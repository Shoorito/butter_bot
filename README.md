
# ButterBot v0.1

## 버터봇에 대해
버터봇은 Dedicated Server 기반 디스코드 봇으로, "**트릭컬**"에 등장하는 인물인 "**버터**"의 이름을 본따서 만들었습니다

Discord Bot SDK .NET을 기반으로 개발되었으며, 아직 사용에는 부족한 부분이 많아 현재도 지속적인 작업을 진행 중에 있습니다

현재 구현되어 있는 기능은 다음과 같습니다
+ **기초적인 XML 기반 데이터 테이블 연동**
+ **기초적인 디스코드 간의 통신**
+ **기초적인 MySql기반 DB 사용**
+ **I18N 기반 테이블 텍스트 파싱 기능**

해당 프로젝트 특성상 코드의 내용은 자주 바뀔 수 있습니다!

## 일반적인 디스코드 봇으로서의 코드를 직접 사용 (C#)
해당 프로젝트의 코드를 참고하시면, 버터봇의 용도가 아닌 일반적인 디스코드 봇으로 사용하시는 것도 가능합니다

또한 Discord SDK나 .NET API에서 제공하지 않는 데이터 관리 관련 편의 기능들도 사용하실 수 있습니다

봇으로서의 사용법은 하단에 간략하게 기재하도록 하겠습니다

### **1. 디스코드 봇 기본 세팅**
**1.** [해당 링크](https://docs.discordnet.dev/guides/getting_started/installing.html)를 참고하시고 디스코드 봇의 기본 세팅을 진행해주세요

**2.** MySql 9.1과 Mysql Workbench 8.0을 설치하시고, MySql의 root권한자, 또는 그에 해당하는 계정 정보를 세팅하시기 바랍니다

**3.** MySql에서 생성하신 Database에 "user_info" 테이블을 아래 조건으로 생성 부탁드립니다
+ "**user_id**"를 기본키로 설정하시고, VARCHAR 타입으로 지정해주세요, 해당 값은 봇을 사용하는 서버에서 봇을 사용할 권한을 가진 유저들의 닉네임을 저장하는데 사용됩니다

위 과정을 따르셨다면 별도 코드 작성은 필요하지 않으며, 메인페이지의 "Code →
Download ZIP" 옵션을 선택하셔서 원하시는 디렉토리에 다운받으시면 기본 세팅은 끝납니다!

### **2. BotConfig.xml 세팅**
이제 봇을 사용하기 위한 세팅 값을 해당 XML 파일에 세팅합니다
+ **BotToken**: 봇을 사용하기 위한 토큰을 넣는 곳입니다, 1번 과정을 통해 얻은 봇토큰을 복사해서 해당 Attribute의 값으로 넣으시면 됩니다
+ **Administrator**: 해당 봇의 Dedicated 서버를 관리하시는 분의 디스코드 사용자명을 넣으시면 됩니다, 해당 값을 넣지 않으실 경우 봇의 사용권한을 줄 사람이 없기 때문에 아무도 사용할 수 없게 됩니다
+ **DBConnectionInfo**: 버터봇에서 사용하게 될 DB의 정보들을 기입해주시면 됩니다, 해당 노드의 Attribute들을 채워주시지 않으면 "BotDB" 클래스의 기능이 정상작동 하지 않습니다

해당 문단에서의 세팅을 마치셨다면 봇을 사용하기 위한 준비가 끝나게 됩니다!

### **3. BotConfig.xml 요소 설명**
BotConfig.xml을 구성하는 요소들은 봇 사용에 필수적으로 필요한 설정 값들입니다, 해당 값들에 대해선 아래 설명을 참고하시면 됩니다
+ **PrefixRegionInfo**: 명령어를 사용할 때의 Prefix를 지정합니다, 이미 적용되있는 부분들을 보시면 아실 수 있듯이 여러개도 지정이 가능하지만 예제대로 반드시 Key(**Prefix**)와 Value(**RegionCode**))를 함께 넣어주셔야 합니다
+ **UsableChannels**: 해당 봇을 사용가능하게 할 채널들을 지정할 수 있으며, 해당 기능을 사용하지 않을 수도 있습니다, "**Enable**" Attribute의 값을 False로 하실경우 봇이 구동되는 한 모든 채널과 개인 대화에서 사용 가능합니다, 그 외에 사용가능하게 할 채널을 정하실 경우 예제와 같이 해당 채널 이름을 지정해주시면 됩니다


## 향후 개발 계획
버터봇은 봇으로서의 기능보다도 게임과 유사한 기능들을 추가하여 과거 CLI기반 게임과 같은 느낌으로 개발할 계획입니다, 이는 봇을 편의기능의 용도로만 사용하는 것이 아닌 재미의 용도로 사용한다는 목적성과 함께, 추후 실제 게임으로 개발 시 빠른 마이그레이션이 가능하다는 기대를 함께 가지고 있습니다

**v0.2**에서는 아래의 기능들을 추가할 예정입니다
+ **버터봇 호감도 시스템**: 버터봇과 대화 시 호감도 수치에 따라 반환되는 텍스트의 내용이 변경됩니다, 호감도는 하위 기재될 컨텐츠들을 통해 올릴 수 있습니다
+ **일일 행동**: "**!버터 일일행동**" 커맨드 입력 시 퀘스트 내용과 함께 수락 또는 거부 버튼이 디스코드 채팅에 생성됩니다,  커맨드 입력자가 30초안에 입력하지 않거나, 다른 커맨드를 입력 시 취소됩니다

    "수락"버튼을 클릭할 시, 퀘스트 내용에 따른 상호작용이 적용되며, 상호작용 완료 후 호감도 관련 리워드가 랜덤하게 지급됩니다

    일일 행동은 하루에 수행할 수 있는 횟수가 제한되어 있으며, GMT+9 기준으로 자정이 되면 초기화 됩니다

+ **버터에게 선물주기**: "**!버터 선물받아**" 커맨드를 통해 실행되며, 방금의 "**일일 행동**"으로 얻은 아이템을 줄 수 있습니다, 단, 선물들은 호감도를 올리기도, 내리기도 하기 때문에 신중히 선택해야 합니다

## 사용한 Third-party
+ Discord .NET
+ MySQL Connector .NET

## 직접 개발한 모듈(.dll)
+ SHUtil(Xml, String, Table, I18N 관련 편의 기능 제공)
